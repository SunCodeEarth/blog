<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Vector Tiles for Leaflet - Blogging on Earth</title>
  <meta name="description" content="Install GDAL ToolsThe GDAL tools are installed from https://www.gisinternals.com/. Install the core with Python applications, which contain some useful raster tools like gdal2tile.py.
Alternatively, it can be installed using OSGeo4W. However, OSGeo4W can interfere with PostgreSQL/PostGIS on GDAL for the setting. Therefore, it is not recommended to use OSGeo4W for GDAL.
As QGIS is part of OSGeo, it comes with GDAL pre-installed. So, it is also good to use the GDAL within QGIS.">
  <meta name="author" content="Shipeng Sun"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Blogging on Earth",
    
    "url": "https:\/\/suncodeearth.github.io\/blog\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/suncodeearth.github.io\/blog\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/suncodeearth.github.io\/blog\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/suncodeearth.github.io\/blog\/post\/vector-tiles-for-leaflet\/",
          "name": "Vector tiles for leaflet"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Shipeng Sun"
  },
  "headline": "Vector Tiles for Leaflet",
  "description" : "Install GDAL Tools\rThe GDAL tools are installed from https:\/\/www.gisinternals.com\/. Install the core with Python applications, which contain some useful raster tools like gdal2tile.py.\nAlternatively, it can be installed using OSGeo4W. However, OSGeo4W can interfere with PostgreSQL\/PostGIS on GDAL for the setting. Therefore, it is not recommended to use OSGeo4W for GDAL.\nAs QGIS is part of OSGeo, it comes with GDAL pre-installed. So, it is also good to use the GDAL within QGIS.",
  "inLanguage" : "en",
  "wordCount":  482 ,
  "datePublished" : "2022-05-17T00:00:00",
  "dateModified" : "2022-05-17T00:00:00",
  "image" : "https:\/\/suncodeearth.github.io\/blog\/img\/dice-triangle_me_res_icon.png",
  "keywords" : [ "leaflet, vector tiles, large dataset, geospatial data" ],
  "mainEntityOfPage" : "https:\/\/suncodeearth.github.io\/blog\/post\/vector-tiles-for-leaflet\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/suncodeearth.github.io\/blog\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/suncodeearth.github.io\/blog\/img\/dice-triangle_me_res_icon.png",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="Vector Tiles for Leaflet" />
<meta property="og:description" content="Install GDAL ToolsThe GDAL tools are installed from https://www.gisinternals.com/. Install the core with Python applications, which contain some useful raster tools like gdal2tile.py.
Alternatively, it can be installed using OSGeo4W. However, OSGeo4W can interfere with PostgreSQL/PostGIS on GDAL for the setting. Therefore, it is not recommended to use OSGeo4W for GDAL.
As QGIS is part of OSGeo, it comes with GDAL pre-installed. So, it is also good to use the GDAL within QGIS.">
<meta property="og:image" content="https://suncodeearth.github.io/blog/img/dice-triangle_me_res_icon.png" />
<meta property="og:url" content="https://suncodeearth.github.io/blog/post/vector-tiles-for-leaflet/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Blogging on Earth" />

  <meta name="twitter:title" content="Vector Tiles for Leaflet" />
  <meta name="twitter:description" content="Install GDAL ToolsThe GDAL tools are installed from https://www.gisinternals.com/. Install the core with Python applications, which contain some useful raster tools like gdal2tile.py.
Alternatively, …">
  <meta name="twitter:image" content="https://suncodeearth.github.io/blog/img/dice-triangle_me_res_icon.png" />
  <meta name="twitter:card" content="summary" />
  <link href='https://suncodeearth.github.io/blog/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.99.0" />
  <link rel="alternate" href="https://suncodeearth.github.io/blog/index.xml" type="application/rss+xml" title="Blogging on Earth"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://suncodeearth.github.io/blog/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="https://suncodeearth.github.io/blog/css/highlight.min.css" /><link rel="stylesheet" href="https://suncodeearth.github.io/blog/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">




  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://suncodeearth.github.io/blog/">Blogging on Earth</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Blog" href="/blog/">Blog</a>
            </li>
          
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent">Samples</a>
              <div class="navlinks-children">
                
                  <a href="/blog/post/2017-03-07-bigimg-sample">Big Image Sample</a>
                
                  <a href="/blog/post/2017-03-05-math-sample">Math Sample</a>
                
                  <a href="/blog/post/2016-03-08-code-sample">Code Sample</a>
                
              </div>
            </li>
          
        
          
            <li>
              <a title="About" href="/blog/page/about/">About</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="/blog/tags">Tags</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="Blogging on Earth" href="https://suncodeearth.github.io/blog/">
            <img class="avatar-img" src="https://suncodeearth.github.io/blog/img/dice-triangle_me_res_icon.png" alt="Blogging on Earth" />
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              
                <h1>Vector Tiles for Leaflet</h1>
              
              
              
              
                <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on May 17, 2022
  
  
    &nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;3&nbsp;minutes
  
  
    &nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;482&nbsp;words
  
  
    
      &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Shipeng Sun
    
  
  
</span>


              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        


<div id="install-gdal-tools" class="section level2">
<h2>Install GDAL Tools</h2>
<p>The GDAL tools are installed from <a href="https://www.gisinternals.com/" class="uri">https://www.gisinternals.com/</a>. Install the core with Python applications, which contain some useful raster tools like gdal2tile.py.</p>
<p>Alternatively, it can be installed using OSGeo4W. However, OSGeo4W can interfere with PostgreSQL/PostGIS on GDAL for the setting. Therefore, it is not recommended to use OSGeo4W for GDAL.</p>
<p>As QGIS is part of OSGeo, it comes with GDAL pre-installed. So, it is also good to use the GDAL within QGIS.</p>
<div id="gis-internals" class="section level3">
<h3>GIS Internals</h3>
<p>By default, it is installed under <code>C:\Program Files\GDAL</code>. We can start with GDAL specified command terminal <code>C:\Windows\SysWOW64\cmd.exe /k "C:\Program Files\GDAL\GDALShell.bat"</code> The Shell correctly set all the environmental variables in the terminal. This is how it avoids the conflicts with PostGIS and turns out to be a better option than OSGEO4W. This command has been created as a command shell in Windows and can be launched from the Apps menu.</p>
</div>
</div>
<div id="run-gdal-tools" class="section level2">
<h2>Run GDAL Tools</h2>
<div id="show-the-database-information-with-tables" class="section level3">
<h3>Show the database information with tables</h3>
<pre class="cmd"><code>ogrinfo.exe PG:&quot;host=localhost port=5432 dbname=nycod user=postgres password=postgres tables=&#39;ap,ap_census&#39;&quot;</code></pre>
<p>Show all the records in the table (don’t do this if the table is very big)</p>
<pre class="cmd"><code>ogrinfo.exe PG:&quot;host=localhost port=5432 dbname=nycod user=postgres password=postgres&quot; &quot;rivers&quot;</code></pre>
</div>
<div id="export-postgis-tables-to-mvt" class="section level3">
<h3>Export PostGIS tables to MVT</h3>
<p>Change directory to the folder where you want to save the data.<br />
<code>C:\Program Files\GDAL</code><br />
Note this is the default GDAL folder.<br />
Change to the “working directory”:<br />
<code>D:\Cloud_Drive\Dropbox (Hunter College)\Workspace\PythonPlayground\PySQL</code><br />
</p>
<p>Using ogr2ogr to export PostgerSQL/PostGIS tables into MVT. Of course, the most important and most difficult part of this is to figure out all the options and parameters. Some of the most useful ones are as follows.<br />
</p>
<ul>
<li>TABLES open option of PostgreSQL/PostGIS controls what tables are included in the results. By default, all tables with a geometry type of column will be exported.<br />
</li>
<li>dsco: Data Set Creation Options<br />
</li>
<li>COMPRESS: leaflet.VectorGrid plugin cannot handle gzipped (Compressed) pbf, so it needs to be NO<br />
</li>
<li>CONF: the configuration file that specifies how the vector tiles will be generated.<br />
</li>
</ul>
<pre class="cmd"><code>C:\WorkingDir&gt;ogr2ogr -f MVT nyc_census_boundary -overwrite PG:&quot;host=&#39;localhost&#39; port=&#39;5432&#39; dbname=&#39;nycod&#39; user=&#39;postgres&#39; password=&#39;postgres&#39; tables=&#39;ap,ap_census&#39;&quot; -dsco CONF=&quot;mvt.json&quot; -dsco MAXZOOM=18 -dsco MINZOOM=14 -dsco COMPRESS=NO</code></pre>
<p>A sample CONFiguration file in JSON format is:</p>
<pre><code>{
    &quot;ap&quot;: {
        &quot;target_name&quot;: &quot;nyc_census_blocks&quot;,
        &quot;description&quot;: &quot;Census Units in New York City&quot;,
        &quot;minzoom&quot;: 16,
        &quot;maxzoom&quot;: 18
    },
    &quot;ap_census&quot;: {
        &quot;target_name&quot;: &quot;nyc_census_blocks&quot;,
        &quot;minzoom&quot;: 14,
        &quot;maxzoom&quot;: 15
    }
}</code></pre>
<p>Clearly, the two tables <code>ap</code> and <code>ap_census</code> in the database will be built into a single MVT layer <code>nyc_census_blocks</code>, where <code>ap_census</code> shows up at zoom levels 14-15 while <code>ap</code> shows up at level 16-18.</p>
</div>
</div>
<div id="alternative-approaches" class="section level2">
<h2>Alternative Approaches</h2>
<p>The geospatial community has been working very hard to develop highly efficient data format for web mapping. While the vector tile format is suitable for very big data sets, alternative data formats are needed for intermediate data sets, which are too big for formats like GeoJSON but are not big enough to offset the cost of creating vector tiles. The possible solutions include: <a href="#">mapshaper</a> that generalizes geometries, <a href="#">topojson</a> that encodes polygon boundaries once, <a href="#">geobuf</a>, <a href="#">GeoJSONL or GeoJSONSeq</a>, and <a href="#">flatgeobuf</a>.</p>
</div>


        
          <div class="blog-tags">
            
              <a href="https://suncodeearth.github.io/blog//tags/leaflet/">leaflet</a>&nbsp;
            
              <a href="https://suncodeearth.github.io/blog//tags/vector-tiles/">vector tiles</a>&nbsp;
            
              <a href="https://suncodeearth.github.io/blog//tags/large-dataset/">large dataset</a>&nbsp;
            
              <a href="https://suncodeearth.github.io/blog//tags/geospatial-data/">geospatial data</a>&nbsp;
            
          </div>
        

        
            <hr/>
            <section id="social-share">
              <div class="list-inline footer-links">
                

<div class="share-box" aria-hidden="true">
    <ul class="share">
      
      <li>
        <a href="//twitter.com/share?url=https%3a%2f%2fsuncodeearth.github.io%2fblog%2fpost%2fvector-tiles-for-leaflet%2f&amp;text=Vector%20Tiles%20for%20Leaflet&amp;via=" target="_blank" title="Share on Twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fsuncodeearth.github.io%2fblog%2fpost%2fvector-tiles-for-leaflet%2f" target="_blank" title="Share on Facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//reddit.com/submit?url=https%3a%2f%2fsuncodeearth.github.io%2fblog%2fpost%2fvector-tiles-for-leaflet%2f&amp;title=Vector%20Tiles%20for%20Leaflet" target="_blank" title="Share on Reddit">
          <i class="fab fa-reddit"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fsuncodeearth.github.io%2fblog%2fpost%2fvector-tiles-for-leaflet%2f&amp;title=Vector%20Tiles%20for%20Leaflet" target="_blank" title="Share on LinkedIn">
          <i class="fab fa-linkedin"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fsuncodeearth.github.io%2fblog%2fpost%2fvector-tiles-for-leaflet%2f&amp;title=Vector%20Tiles%20for%20Leaflet" target="_blank" title="Share on StumbleUpon">
          <i class="fab fa-stumbleupon"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fsuncodeearth.github.io%2fblog%2fpost%2fvector-tiles-for-leaflet%2f&amp;description=Vector%20Tiles%20for%20Leaflet" target="_blank" title="Share on Pinterest">
          <i class="fab fa-pinterest"></i>
        </a>
      </li>
    </ul>
  </div>
  

              </div>
            </section>
        

        
          
            
          

          
                  <h4 class="see-also">See also</h4>
                  <ul>
                
                
                    <li><a href="/blog/post/2023-03-18-shortest-path-in-polygons/">Shortest Path in Polygons</a></li>
                
                    <li><a href="/blog/post/2022-10-27-aws-s3-cli/">AWS S3 CLI</a></li>
                
              </ul>

          
        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://suncodeearth.github.io/blog/post/2020-12-01-r-rmarkdown/" data-toggle="tooltip" data-placement="top" title="Hello R Markdown">&larr; Previous Post</a>
            </li>
          
          
            <li class="next">
              <a href="https://suncodeearth.github.io/blog/post/2022-05-18-blogdown-start/" data-toggle="tooltip" data-placement="top" title="Start bloggind using R blogdown">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      
        
        
      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:sunsp.gis@gmail.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/suncodeearth" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            <a href="" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="sunsp.net">Shipeng Sun</a>
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2025
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://suncodeearth.github.io/blog/">Blogging on Earth</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.99.0</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapted from <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://suncodeearth.github.io/blog/js/main.js"></script>
<script src="https://suncodeearth.github.io/blog/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://suncodeearth.github.io/blog/js/load-photoswipe.js"></script>









    
  </body>
</html>

